<!DOCTYPE html>
<html>
<!-- 李彦宏剑桥演讲再谈“下一幕” 人工智能将颠覆更多行业 -->
<head lang="en">
    <meta charset="UTF-8">
    <title>猫酷网络</title>
    <link href="../css/js-image-slider.css" rel="stylesheet" type="text/css" />
    <script src="../js/js-image-slider.js" type="text/javascript"></script>
    <link href="../css/bottom.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="../css/top.css">
    <link href="../css/news.css" rel="stylesheet" type="text/css" />
    <style type="text/css">
        /*分页*/

        .page a,.page span{
            text-decoration: none;
            border:1px solid #ffffff;
            padding: 3px 5px;
            color: #767675;
            cursor: pointer;
        }
        .page a:hover,.page span:hover{
            color:red;
        }
        .maino{
            height: 10100px;

        }
        .signcont{
            height: 10000px;
            border: 1px solid #ffffff;
        }
        .snewstitle{
            text-align:center;
        }
        .snewsinfo{
            text-align:center;
        }
        .t-align{
            text-align:center;
        }
        .right{
            text-align:center;
        }





    </style>
</head>
<body >
<div class="am-dropdown">
    <ul id="am-dropdown-content">
        <li class="am-dropdown-img"><img src="../img/bts.png" ></li>
        <li class="am-dropdown-li"><a href="../index.html">首页</a></li>
        <li class="am-dropdown-li"><a>企业文化</a>
            <ul class="am-submenu">
                <li><a href="Company profile.html">公司简介</a></li>
                <li><a href="concept.html">公司理念</a></li>

            </ul>
        </li>
        <li class="am-dropdown-li"><a>产品中心</a>
            <ul class="am-submenu">
                <li><a href="app.html">移动APP开发</a></li>
                <li><a href="weixin.html">微信营销</a></li>
                <li><a href="website.html">网站建设</a></li>
                <li><a href="oa.html">OA办公软件</a></li>

            </ul>
        </li>
        <li class="am-dropdown-li"><a>服务支持</a>
            <ul class="am-submenu">
                <li><a href="../serivce/zixun.html">常见问题</a></li>
            </ul>
        </li>
        <li class="am-dropdown-li"><a>新闻动态</a>
            <ul class="am-submenu">
                <li><a href="news.html">公司新闻</a></li>
                <li><a href="Industry news.html">行业新闻</a></li>
            </ul>
        </li>
        <li class="am-dropdown-li"><a>加入我们</a>
            <ul class="am-submenu">
                <li><a href="environment.html">公司环境</a></li>
                <li><a href="recruitq.html">人才招聘</a></li>
            </ul>
        </li>
        <li class="am-dropdown-li"><a href="../contact.html">联系我们</a>
        </li>
    </ul>
</div>

<div class="tp">
    <img src="../img/b.png" />
</div>


<!-- 新闻动态 -->

<div class="maino">

    <div class="right">
        <div class="content">

            <div class="contenth">行业新闻</div>
            <div class="signcont">
                <div class="snewstitle"><h2>新浪新闻联合复旦发布《网络从业者生态报告》</h2></div>
                <div class="snewsinfo">发稿时间：2016/9/12 10:02</div>
                <div class="clear"></div>

                <div class="newstc">
                    <p style="text-align:center;">
                        <span style="font-size:18px;">新浪新闻联合复旦发布《网络从业者生态报告》</span>
                    </p>
                    <p style="text-align:center;">


                        <span class="abstrac-t-tit">摘要：</span>
                        怎样将一个「服务号」改造成为「小程序」？全球首个微信应用号开发教程第六弹。</p>
                    <div class="inner">
                        <p><p><img id="edit_2489010" class="aligncenter" src="http://7xil86.com2.z0.glb.qiniucdn.com/uploads/images/2016/09/屏幕快照_2016-09-30_09.png" alt="" /></p></p><p><blockquote></p><p><p>钛媒体注：钛媒体作者博卡君对于“应用号的最终形态”与“怎样将一个「服务号」改造成为「小程序」”的话题上，有着自己的独特的理解。他想要用第三方工具的实例，来演示开发过程。今天，他为我们带来《微信小程序分组开发与左滑功能实现》的内容。感兴趣的朋友，也不要错过此前钛媒体发布的<a href="http://www.tmtpost.com/2480611.html" target="_blank">第一弹</a>、<a href="http://www.tmtpost.com/2480666.html" target="_blank">第二弹</a>和<a href="http://www.tmtpost.com/2481346.html" target="_blank">第三弹</a>、<a href="http://www.tmtpost.com/2485762.html" target="_blank">第四弹</a>、<a href="http://www.tmtpost.com/2486839.html" target="_blank">第五弹</a>中的精彩内容。第九章：微信小程序拍照收纳开发以及删除名片等</p></p><p></blockquote></p><p><p>还是先来看看我们今天的主题——拍照收纳。</p></p><p><p>拍照收纳分为：上传图片／识别名片、手动填写名片信息两个路径，这里只说下拍照识别，手动填写和前面的编辑名片是同样的页面，大家可以翻翻之前的教程。</p></p><p><p class="aligncenter"><img class="aligncenter" src="http://7xil86.com2.z0.glb.qiniucdn.com/uploads/images/2016/09/d566c3a97f2557a22301626a9b74b985_1475199753.jpeg" alt="" width="375" height="678" /></p></p><p><p>这个布局很快，wxml 没多少内容。</p></p><p><p class="aligncenter"><img class="aligncenter" src="http://7xil86.com2.z0.glb.qiniucdn.com/uploads/images/2016/09/0e3e0a36249daaa6445675f96262f079_1475199753.jpeg" alt="" width="600" height="227" /></p></p><p><p>拍照收纳的原理是收纳名片功能，步骤是打开微信的拍照 API，同时支持选择本地图片 wx.chooseImage 接口。</p></p><p><p class="aligncenter"><img class="aligncenter" src="http://7xil86.com2.z0.glb.qiniucdn.com/uploads/images/2016/09/89c3ca11d07f13ffa9cd6e66cbc44e78_1475199753.jpeg" alt="" width="717" height="306" /></p></p><p><p>取到图片路径需上传图片文件到后台服务器，这里参照文档打印三个回调。</p></p><p><p class="aligncenter"><img class="aligncenter" src="http://7xil86.com2.z0.glb.qiniucdn.com/uploads/images/2016/09/e04dbda58410c8fa0897026897506381_1475199753.jpeg" alt="" width="690" height="645" /></p></p><p><p><strong>但是我发现在开发者工具测试的时候，没有任何打印信息，后台同样也没有接到我上传过去的图片。</strong></p></p><p><p class="aligncenter"><img class="aligncenter" src="http://7xil86.com2.z0.glb.qiniucdn.com/uploads/images/2016/09/a35d8183f47379670ce17655761a5cad_1475199753.jpeg" alt="" width="1000" height="756" /></p></p><p><p>选择一张图片，点击打开后。控制台的 console 没有成功或者失败的回调。</p></p><p><p class="aligncenter"><img class="aligncenter" src="http://7xil86.com2.z0.glb.qiniucdn.com/uploads/images/2016/09/2dec0bc68c43480a9cf40858850006f1_1475199753.jpeg" alt="" width="1000" height="775" /></p></p><p><p><strong>由于尚处内测版本，暂时还不确定是开发者工具上的 bug 还是 API 接口问题，总之这里影响了小程序开发，我已经写邮件给微信做了反馈。</strong></p></p><p><p>如果图片上传成功，后台取到图片会去调一个识别信息操作，最后把识别到的信息传给我们前台进行渲染，最后把信息保存到名片夹里面，收纳名片流程才算走通。</p></p><p><p>再补充下名片夹页面的名片删除吧：</p></p><p><p>每个名片夹后面都带个删除功能，这个功能是通过左滑出现。</p></p><p><p class="aligncenter"><img class="aligncenter" src="http://7xil86.com2.z0.glb.qiniucdn.com/uploads/images/2016/09/6efad8c3a0d56369308b58e594123976_1475199753.jpeg" alt="" width="485" height="24" /></p></p><p><p class="aligncenter">点击删除，出现是否确定删除弹框（使用自带的模态框组件）。</p></p><p><p class="aligncenter"><img class="aligncenter" src="http://7xil86.com2.z0.glb.qiniucdn.com/uploads/images/2016/09/e55be77975be30701725aab634550c44_1475199753.jpeg" alt="" width="302" height="123" /></p></p><p><p>确定与取消事件。</p></p><p><p class="aligncenter"><img class="aligncenter" src="http://7xil86.com2.z0.glb.qiniucdn.com/uploads/images/2016/09/4bee5a47f7bf94b34e22df0d38bb12dc_1475199753.jpeg" alt="" width="922" height="68" /></p></p><p><p>由于这里名片分为，线上收纳与线下收纳。故而多了个 if 判断，走的删除 request 不是一个接口，其他都相差不多。这里最重要的是要获取到 cardId，才能知道被删除的是哪张名片。</p></p><p><p class="aligncenter"><img class="aligncenter" src="http://7xil86.com2.z0.glb.qiniucdn.com/uploads/images/2016/09/b6638065fe9f9ed56dc4c8276cfdbab1_1475199753.jpeg" alt="" width="542" height="704" /></p></p><p><p>名片的父元素绑定的全部事件，以及需要用到的一些自定义参数。Id 用在左滑上 data-card_id 用在页面跳转与删除上，data-card_type 用在判断线上与线下名片。</p></p><p><p class="aligncenter"><img class="aligncenter" src="http://7xil86.com2.z0.glb.qiniucdn.com/uploads/images/2016/09/f0eb54e9ec803a201025e9fe6c4ad8fc_1475199753.jpeg" alt="" width="496" height="121" /></p></p><p><p>cardId 可以在 bindtouchstart 上取到，因为左滑事件是发生 bindtouchstart 事件上。</p></p><p><p class="aligncenter"><img class="aligncenter" src="http://7xil86.com2.z0.glb.qiniucdn.com/uploads/images/2016/09/2ece52b76274d341bc27a3aef67005c0_1475199753.jpeg" alt="" width="471" height="186" /></p></p><p><p>当然后面需要用到的值还是先定义个 var 存起来。</p></p><p><p class="aligncenter"><img class="aligncenter" src="http://7xil86.com2.z0.glb.qiniucdn.com/uploads/images/2016/09/e0b1fdb1448e464c1bae4426e4dfac2e_1475199753.jpeg" alt="" width="405" height="161" /></p></p><p><p>删除完之后还需重新刷新下首页。</p></p><p><p class="aligncenter"><img class="aligncenter" src="http://7xil86.com2.z0.glb.qiniucdn.com/uploads/images/2016/09/901c5e2fdb70ef4c3aaa2899c05cbdd0_1475199754.jpeg" alt="" width="514" height="367" /></p></p><p><p>并且提升下用户体验，告诉用户名片删除成功。</p></p><p><p class="aligncenter"><img class="aligncenter" src="http://7xil86.com2.z0.glb.qiniucdn.com/uploads/images/2016/09/5e23f2667cb0dc5a23ea8589ed5eaded_1475199754.jpeg" alt="" width="322" height="93" /></p></p><p><p class="aligncenter"><img class="aligncenter" src="http://7xil86.com2.z0.glb.qiniucdn.com/uploads/images/2016/09/57196515d275fc057363a454623ac01a_1475199754.jpeg" alt="" width="376" height="678" /></p></p><p><p class="aligncenter"><img class="aligncenter" src="http://7xil86.com2.z0.glb.qiniucdn.com/uploads/images/2016/09/8aa142f4fa672fc4f40b0db035475788_1475199754.jpeg" alt="" width="371" height="677" /></p></p><p><p>最后一提，当列表很多时，我们需要确定点击到的是那个信息。</p></p><p><p class="aligncenter"><img class="aligncenter" src="http://7xil86.com2.z0.glb.qiniucdn.com/uploads/images/2016/09/55fee724c94bd842943893ee228958de_1475199754.jpeg" alt="" width="376" height="375" /></p></p><p><p>上面的信息都是 block 循环出来的，bindtap 点击事件，然后就是 id=”{{pms.type}}”，重点就是这个 id 来判断被点击的对象。</p></p><p><p class="aligncenter"><img class="aligncenter" src="http://7xil86.com2.z0.glb.qiniucdn.com/uploads/images/2016/09/67b12a66264b0b7d9efc322239e63f88_1475199754.jpeg" alt="" width="578" height="272" /></p></p><p><p>操作数据，我们一定要先熟悉好数据的结构，故而在开发前和后台一定要约定好数据结构，熟悉数据结构后，其实开发起来就如庖丁解牛，非常快速（大家开发了小程序后，有没有对 zepoto 与 jQuery 产生反感？哈哈！）</p></p><p><p class="aligncenter"><img class="aligncenter" src="http://7xil86.com2.z0.glb.qiniucdn.com/uploads/images/2016/09/8b41f3362f5a1258d064128a3aba7860_1475199754.jpeg" alt="" width="569" height="547" /></p></p><p><p>好了，关于拍照组件的相关内容就写到这里吧！这一章内容就算是博卡君教程的完结篇了。虽然写的内容中包含小程序开发工具的问题，不过我还是推荐大家都尝试调用一下拍照相关功能，看看这些问题在你的机器上会不会出现。按照微信的官方文档，我尝试给 weixin_developer@qq.com 那个邮箱发了邮件报告 bug。没想到很快收到了官方回复，确认了这点。希望尽快得到更新版，一起期待吧?</p></p><p><p style="text-align: center;"></p></p><p></p>      </div>
                    </article>
                    <div class="sm">
                        本文系作者 <a target="_blank" href="/user/2480556" title="博卡君">博卡君</a>&ensp;授权钛媒体发表，并经钛媒体编辑，转载请注明出处和<a href="/2489003.html" title="玩转微信应用号，「小程序」开发实操指南第六弹" class="link">本文链接</a>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <div class="clear"></div>
</div>


<!-- 尾部 -->
<div class="am-sub">
    <div class="am-sub-div">
        <ul>
            <li><a>企业文化</a>
                <ul>
                    <li><a href="Company profile.html">公司简介</a></li>
                    <li><a href="concept.html">公司理念</a></li>
                </ul>
            </li>
            <li><a>产品中心</a>
                <ul>
                    <li><a href="app.html">移动APP开发</a></li>
                    <li><a href="weixin.html">微信营销</a></li>
                    <li><a href="website.html">网站建设</a></li>
                    <li><a href="oa.html">OA办公软件</a></li>

                </ul>
            </li>
            <li><a>服务支持</a>
                <ul>
                    <li><a href="../serivce/zixun.html">常见问题</a></li>
                </ul>
            </li>
            <li><a>新闻动态</a>
                <ul>
                    <li><a href="news.html">公司新闻</a></li>
                    <li><a href="Industry news.html">行业新闻</a></li>
                </ul>
            </li>
            <li><a>加入我们</a>
                <ul>
                    <li><a href="environment.html">公司环境</a></li>
                    <li><a href="recruitq.html">人才招聘</a></li>
                </ul>
            </li>
            <li><a>友情链接</a>
                <ul>
                    <li><a href="http://www.downcc.com/about/fabu.html">绿色资源网</a></li>
                    <li><a href="http://www.k73.com/app/public.html">K73游戏网</a></li>
                </ul>
            </li>
        </ul>
    </div>
</div>


<div class="am-permission">
    <div><span><a id="beian" href="http://www.miitbeian.gov.cn">渝ICP备17005163号-3</a></span></div>
</div>

</body>
</html>

